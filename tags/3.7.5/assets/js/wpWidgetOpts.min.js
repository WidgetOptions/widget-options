var wpWidgetOpts;!function(t){var e=t(document);wpWidgetOpts={hoveredSidebar:null,init:function(){var i=this,s=t(".wp-admin.widgets-php .wrap a.page-title-action"),o=t(".extended-widget-opts-tabs"),d=t(".widgetsopts-chooser"),n=d.find(".widgetopts-chooser-sidebars");o.length>0&&i.loaded("","loaded"),t(".widget-liquid-right .widget, .inactive-sidebar .widget, #accordion-panel-widgets .customize-control-widget_form").each(function(t,e){i.loaded("","loaded")}),e.on("widget-added",function(t,e){i.loaded(e,"added")}),e.on("widget-updated",function(t,e){i.loaded(e,"updated")}),e.on("click",".extended-widget-opts-inner-lists h4",function(){var e=t(this).attr("id");t(".extended-widget-opts-inner-lists ."+e).slideToggle(250)}),e.on("click",".widget-opts-toggler-note",function(e){t(this).parent("p").parent(".widget-opts-logic").find(".widget-opts-toggle-note").slideToggle(250),e.preventDefault(),e.stopPropagation()}),s.length>0&&s.after('<a href="'+widgetopts10n.opts_page+'" class="page-title-action hide-if-no-customize">'+widgetopts10n.translation.manage_settings+"</a>"),i.live_search(),t(".widget-control-actions .alignleft .widget-control-remove").after(widgetopts10n.controls),i.do_chooser(d,n),i.sidebarOptions(),i.removeSidebarWidgets()},loaded:function(e,i){var s,o=0,d=0,n=0,a=0,r=".extended-widget-opts-tabs",c=".extended-widget-opts-visibility-m-tabs",l=".extended-widget-opts-visibility-tabs",p=".extended-widget-opts-settings-tabs",g="#extended-widget-opts-selectedtab",h="#extended-widget-opts-visibility-m-selectedtab",w="#extended-widget-opts-visibility-selectedtab",f="#extended-widget-opts-settings-selectedtab";"undefined"!=typeof wp&&wp.customize,""!=e&&(s="#"+e.attr("id"),t(s).find(g).length>0&&(o=t("#"+e.attr("id")).find(g).val(),o=parseInt(o)),t(s).find(w).length>0&&(n=t("#"+e.attr("id")).find(w).val(),n=parseInt(n)),t(s).find(h).length>0&&(d=t("#"+e.attr("id")).find(h).val(),d=parseInt(d)),t(s).find(f).length>0&&(a=t("#"+e.attr("id")).find(f).val(),a=parseInt(a))),"added"==i&&(o=0,d=0,n=0,a=0),""!=e?(t(s).find(r).length>0&&t(s).find(r).tabs({active:o}),t(s).find(c).length>0&&t(s).find(c).tabs({active:d}),t(s).find(l).length>0&&t(s).find(l).tabs({active:n}),t(s).find(p).length>0&&t(s).find(p).tabs({active:a})):(t(r).tabs({active:o}),t(".extended-widget-opts-styling-tabs").tabs({active:0}),t(c).tabs({active:d}),t(l).tabs({active:n}),t(p).tabs({active:a})),t(r).click("tabsselect",function(e,i){t(this).find(g).length>0&&t(this).find(g).val(t(this).tabs("option","active"))}),t(l).click("tabsselect",function(e,i){t(this).find(w).length>0&&t(this).find(w).val(t(this).tabs("option","active"))}),t(c).click("tabsselect",function(e,i){t(this).find(h).length>0&&t(this).find(h).val(t(this).tabs("option","active"))}),t(p).click("tabsselect",function(e,i){t(this).find(f).length>0&&t(this).find(f).val(t(this).tabs("option","active"))})},live_search:function(){void 0!==t.fn.liveFilter&&t.isFunction(t.fn.liveFilter)&&t("#widgetopts-widgets-search").length>0&&(t(".widget:last-of-type").after('<div class="widgetopts-separator" />'),t("#widgets-left .widget").each(function(){var e=t(this).index()+1;t(this).attr("data-widget-index",e)}),t("#widgets-left").liveFilter("#widgetopts-widgets-search",".widget",{filterChildSelector:".widget-title h4, .widget-title h3",after:function(e,i){i.each(function(){t(this).insertAfter(t(this).parent().find(".widgetopts-separator"))}),e.sort(function(t,e){return t.getAttribute("data-widget-index")-e.getAttribute("data-widget-index")}),e.each(function(){t(this).insertBefore(t(this).parent().find(".widgetopts-separator"))})}}),t("#wpbody-content").on("keyup",".widgetopts-widgets-search",function(e){p=t(this).parent().find(".widgetopts-clear-results"),""!==t(this).val()?p.addClass("widgetopts-is-visible"):p.removeClass("widgetopts-is-visible")}),t("#wpbody-content").on("click",".widgetopts-clear-results",function(e){return s=t(this).parent().find(".widgetopts-widgets-search"),s.val("").focus().trigger("keyup"),"widgetopts-search-chooser"==s.attr("id")?t(".widgets-chooser-sidebars li:not(:first)").removeClass("widgets-chooser-selected"):s.hasClass("widgetsopts-widgets-search")&&t(".widgetopts-chooser-sidebars li:not(:first)").removeClass("widgetopts-chooser-selected"),e.preventDefault(),e.stopPropagation(),!1}),t(".widgets-chooser").prepend(widgetopts10n.search_form),t(".widgets-chooser").liveFilter("#widgetopts-search-chooser",".widgets-chooser-sidebars li",{after:function(e,i){i.each(function(){t(this).addClass("widgetopts-is-hidden").removeClass("widgets-chooser-selected")}),e.each(function(){t(this).removeClass("widgetopts-is-hidden").removeClass("widgets-chooser-selected")}),e.length>0&&t(e[0]).addClass("widgets-chooser-selected")}}))},do_chooser:function(i,s){var o=this;t("#widgets-right .widgets-holder-wrap").each(function(e,i){var o=t(i),d=o.find(".sidebar-name h2").text(),n=o.find(".widgets-sortables").attr("id"),a=t('<li tabindex="0">').text(t.trim(d));0===e&&a.addClass("widgetopts-chooser-selected"),s.append(a),a.attr("data-sidebarId",n)}),e.on("click",".widgetopts-control",function(e){var d=t(this).text(),n=t(this).attr("data-action");t(this).hasClass("widgetopts-control-open")?(o.closeChooser(),t(".widgetopts-control-open").removeClass("widgetopts-control-open")):(i.find(".widgetopts-chooser-action span").text(d),i.find(".widgetopts-chooser-action").attr("data-action",n),t(this).parents(".widget-control-actions").find(".clear").after(i),i.slideDown(300,function(){s.find(".widgets-chooser-selected").focus()}),t(".widgetopts-control-open").removeClass("widgetopts-control-open"),t(this).addClass("widgetopts-control-open"),o.chooserSearch()),e.preventDefault()}),e.on("click",".widgetopts-chooser-sidebars li",function(e){s.find(".widgetopts-chooser-selected").removeClass("widgetopts-chooser-selected"),t(this).addClass("widgetopts-chooser-selected")}),e.on("click",".widgetsopts-chooser .widgetopts-chooser-action",function(e){var i=t("html,body"),s=t(this).attr("data-action"),o=t(this).parents(".widgets-sortables").attr("id"),d=t(this).parents(".widget").attr("id"),n=t("#"+d);switch(sidebarID=t(".widgetopts-chooser-selected").attr("data-sidebarId"),t("#"+d+" .widgetsopts-chooser").remove(),n.find(" .widgetopts-control-open").removeClass("widgetopts-control-open"),s){case"move":t("#"+o).find("#"+d).appendTo("#"+sidebarID),t("#"+sidebarID).sortable("refresh"),n.addClass("widgetopts-move-ds"),t("#"+sidebarID).parent(".widgets-holder-wrap").removeClass("closed"),wpWidgets.save(t("#"+d),0,0,1)}var a=t(".widgetopts-move-ds");i.animate({scrollTop:a.offset().top-(i.offset().top+i.scrollTop()+60)},200),t(".widgetopts-move-ds").removeClass(".widgetopts-move-ds"),e.preventDefault()}),e.on("click",".widgetsopts-chooser .widgetsopts-chooser-cancel",function(t){o.closeChooser(i),t.preventDefault()})},closeChooser:function(e){t(".widgetsopts-chooser").slideUp(200,function(){t(".widgetopts-control").removeClass("widgetopts-control-open"),t("#wpbody-content").append(this)})},chooserSearch:function(){t("#widgetsopts-widgets-search").length>0&&t(".widgetsopts-chooser").liveFilter("#widgetsopts-widgets-search",".widgetopts-chooser-sidebars li",{after:function(e,i){i.each(function(){t(this).addClass("widgetopts-is-hidden").removeClass("widgetopts-chooser-selected")}),e.each(function(){t(this).removeClass("widgetopts-is-hidden").removeClass("widgetopts-chooser-selected")}),e.length>0&&t(e[0]).addClass("widgetopts-chooser-selected")}})},sidebarOptions:function(){widgetopts10n.sidebaropts.length>0&&t("#widgets-right .widgets-holder-wrap").each(function(e,i){dl_link=widgetopts10n.sidebaropts.replace("__sidebaropts__",t(this).find(".widgets-sortables").attr("id")),dl_link=dl_link.replace("__sidebar_opts__",t.trim(t(this).find(".widgets-sortables h2").text())),t(this).append(dl_link)})},removeSidebarWidgets:function(){var i=t("html,body");e.on("click",".sidebaropts-clear",function(e){t(this).parent().find(".sidebaropts-confirm").addClass("sidebaropts-confirmed"),t(this).parent().find(".sidebaropts-confirm").slideToggle(250),e.preventDefault()}),e.on("click",".sidebaropts-confirmed .button",function(e){if(sidebar_id=t(this).parent().parent().parent().find(".widgets-sortables"),t(this).hasClass("button-primary")){var s=sidebar_id;t(this).parent().slideToggle(50),i.animate({scrollTop:s.offset().top-50},200),sidebar_id.find(".widget").each(function(e,i){t(i).fadeOut(),wpWidgets.save(t(i),1,1,0)})}else t(this).parent().slideToggle(250);e.preventDefault()})}},e.ready(function(){wpWidgetOpts.init()})}(jQuery);